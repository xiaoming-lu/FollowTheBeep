
<img id="loader" ng-show="loading" src="/../../img/484.gif">
<div class="row" ng-controller="ListingsController" ng-init="findOne()">
  <div class="col-md-offset-1 col-md-11">
    <div ng-show="error" class="text-danger">
      <strong ng-bind="error"></strong>
    </div>
    <div class="jumbotron">

      <div ng-show="listing">
        <h1> <span class="glyphicon glyphicon-map-marker"></span>  {{listing.name}}</h1>
        <p id="demo"></p>
      </div>
    </div>
    <br>
    <br>
    <img width="1000" src="/../../img/octo-loader.gif">
    <br>

    <div id="waveform"></div>
    <script>
      if ('ondeviceorientationabsolute' in window) {
        // Chrome 50+ specific
        window.addEventListener('deviceorientationabsolute', handleOrientation);
      } else if ('ondeviceorientation' in window) {
        window.addEventListener('deviceorientation', handleOrientation);
      }

      function handleOrientation(event) {
        var alpha;
        if (event.absolute) {
          alpha = event.alpha;
        } else if (event.hasOwnProperty('webkitCompassHeading')) {
          // get absolute orientation for Safari/iOS
          alpha = 360 - event.webkitCompassHeading; // conversion taken from a comment on Google Documentation, not tested
        } else {
          console.log('Could not retrieve absolute orientation');
        }
        document.getElementById("demo").innerHTML = alpha;
      }
    </script>
  </div>
</div>
